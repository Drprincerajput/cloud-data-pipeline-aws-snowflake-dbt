version: 2

models:
  - name: fct_daily_product_sales
    description: "This fact table contains daily sales metrics at the product level, enriched with contextual calendar information. It includes raw sales figures (quantity and revenue), as well as engineered features such as lagged sales (1-day, 7-day, 1-year), rolling averages, and rolling sums over 7-day and 28-day windows.The table is designed to support time-series analysis, product performance monitoring, and forecasting use cases. It joins daily transactional data from `int_daily_sales` with calendar and event context from `int_date_spine` to provide both temporal continuity and event-awareness."
    columns:
      - name: date_day
        description: The calendar date of the sales record.

      - name: product_id
        description: Unique identifier for the product.

      - name: daily_quantity_sold
        description: Number of units sold for the product on the given day.

      - name: daily_revenue
        description: Total revenue generated by the product on the given day.

      - name: event_name
        description: Name of any event or holiday associated with the date (from the date spine).

      - name: sales_lag_1_day
        description: Quantity sold one day prior, useful for short-term trend analysis.

      - name: sales_rolling_avg_7_days
        description: 7-day rolling average of daily quantity sold, used to smooth short-term fluctuations.

      - name: sales_rolling_sum_28_days
        description: 28-day rolling sum of daily quantity sold, capturing broader monthly trends.

